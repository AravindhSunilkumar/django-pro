{% extends "driver/driver.html" %}

{% block head %}
  <head>
    <title>Chat with {{ user.username }}</title>

    <style>
      .message {
        margin: 10px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    
    .sent {
        background-color: #f0f0f0;
        margin-left: 100px;
    }
    
    .received {
        background-color: #e5f7ff;
        margin-right: 100px;
    }
    .ca{
      background-color: #ffffff;
      width: 800px;
      margin: auto;
      padding: 25px;
    }
    
    </style>
  </head>
{% endblock %}

{% block content %}
<br><br><br>
  <div class="card ca">
    <div class="container">
      <h1 style="text-align: center;">Chat with {{ user.username }}</h1>
      <br>
    <div id="chat-container">
      {% for chat in chats %}
        {% if chat.sender == user %}
          <div class="message received">
            <strong>{{ chat.sender.username }}</strong>: {{ chat.message }}
          </div>
        {% else %}
          <div class="message sent">
            <strong>{{ chat.sender.username }}</strong>: {{ chat.message }}
          </div>
        {% endif %}
      {% endfor %}
    </div>
    <form method="post" style="max-width: 300px; margin: 0 auto;">
      {% csrf_token %}
      <input type="text" name="message" placeholder="Type a message..." style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;">
      <button  type="submit" style="background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;     margin-left: 85px;">Send</button>
  </form>
  
    </div>
  </div>
{% endblock %}